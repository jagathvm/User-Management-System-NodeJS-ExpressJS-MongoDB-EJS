<div class="d-flex justify-content-between align-items-center flex-wrap flex-md-nowrap pt-3 pb-2 mb-3 border-bottom">
    <% if (user) { %>
        <h1 class="h1">Edit User: <%= user.firstName %>
                <%= user.lastName %>
        </h1>
        <% } else { %>
            <h1 class="h1">User Removed. %>
            </h1>
            <% } %>
</div>

<div class="col py-3">
    <div class="row">
        <div class="col">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/api/admin/dashboard">Dashboard</a></li>
                    <% if (user) { %>
                        <li class="breadcrumb-item active">
                            <%= user.firstName %>
                        </li>
                        <% } %>
                </ol>
            </nav>
        </div>
        <% if (user) { %>
            <div class="col text-end fw-lighter">
                <b>UserId: ObjectId('<%= user._id%>')</b>
            </div>
    </div>
</div>

<div class="container mt-2">
    <form id="updateUserForm">

        <!-- Hidden Input for User -->
        <input type="hidden" id="userId" value="<%= user._id %>">
        <div class="form-group mt-3">
            <label for="firstName">First Name</label>
            <input type="text" class="form-control mt-1" id="firstName" name="firstName" value="<%= user.firstName %>"
                placeholder="Enter First Name" autocomplete="on" required>
        </div>
        <div class="form-group mt-3">
            <label for="lastName">Last Name</label>
            <input type="text" class="form-control mt-1" id="lastName" name="lastName" value="<%= user.lastName %>"
                placeholder="Enter Last Name" autocomplete="on" required>
        </div>
        <div class=" form-group mt-3">
            <label for="email">Email</label>
            <input type="email" class="form-control mt-1" id="email" name="email" value="<%= user.email %>"
                placeholder="Enter email" autocomplete="on" required>
        </div>
        <div class="form-group mt-3">
            <label for="tel">Telephone</label>
            <input type="tel" class="form-control mt-1" id="tel" name="tel" value="<%= user.tel %>"
                placeholder="Enter Phone Number" autocomplete="on" required>
        </div>

        <div class="form-group mt-1">
            <button type="submit" class="btn btn-primary mt-3">Update User</button>
            <button type="button" class="btn btn-danger mt-3" data-bs-toggle="modal"
                data-bs-target="#deleteModal">Delete
                User</button>
        </div>
    </form>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">You are about to remove a User record.</div>
                <button type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="close"></button>
            </div>
            <div class="modal-body">
                <p>This will remove the User record of <b>
                        <%= user.firstName %>
                            <%= user.lastName %>
                    </b><br>Are you sure? </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>
                <form class="position-relative" id="deleteUserForm">
                    <button type="submit" class="btn btn-primary">Yes, Remove User</button>
                </form>
            </div>
        </div>
    </div>
</div>
<% } %>

    <script async src="/scripts/user/updateUser.js"></script>
    <script async src="/scripts/user/deleteUserForm.js"></script>